var h,m=this;
function q(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}function r(a){var b=q(a);return"array"==b||"object"==b&&"number"==typeof a.length}function s(a){return"string"==typeof a}function aa(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var t="closure_uid_"+(1E9*Math.random()>>>0),ba=0;function ca(a,b,c){return a.call.apply(a.bind,arguments)}
function da(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function u(a,b,c){u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ca:da;return u.apply(null,arguments)}
function v(a,b){function c(){}c.prototype=b.prototype;a.A=b.prototype;a.prototype=new c};var ea;function fa(a){if(!ga.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ha,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ia,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(ja,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(ka,"&quot;"));return a}var ha=/&/g,ia=/</g,ja=/>/g,ka=/\"/g,ga=/[&<>\"]/;function la(a,b){for(var c in a)b.call(void 0,a[c],c,a)}var ma="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function na(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<ma.length;f++)c=ma[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var w=Array.prototype,oa=w.indexOf?function(a,b,c){return w.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(s(a))return s(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},pa=w.forEach?function(a,b,c){w.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=s(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},qa=w.filter?function(a,b,c){return w.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=s(a)?
a.split(""):a,k=0;k<d;k++)if(k in g){var p=g[k];b.call(c,p,k,a)&&(e[f++]=p)}return e};function x(a,b){return 0<=oa(a,b)}function ra(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function sa(a,b,c){return 2>=arguments.length?w.slice.call(a,b):w.slice.call(a,b,c)};function y(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}y.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};var z,A,B,C;function ta(){return m.navigator?m.navigator.userAgent:null}C=B=A=z=!1;var D;if(D=ta()){var ua=m.navigator;z=0==D.lastIndexOf("Opera",0);A=!z&&(-1!=D.indexOf("MSIE")||-1!=D.indexOf("Trident"));B=!z&&-1!=D.indexOf("WebKit");C=!z&&!B&&!A&&"Gecko"==ua.product}var va=z,E=A,G=C,H=B;function wa(){var a=m.document;return a?a.documentMode:void 0}var I;
a:{var K="",L;if(va&&m.opera)var M=m.opera.version,K="function"==typeof M?M():M;else if(G?L=/rv\:([^\);]+)(\)|;)/:E?L=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:H&&(L=/WebKit\/(\S+)/),L)var xa=L.exec(ta()),K=xa?xa[1]:"";if(E){var ya=wa();if(ya>parseFloat(K)){I=String(ya);break a}}I=K}var za={};
function N(a){var b;if(!(b=za[a])){b=0;for(var c=String(I).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"",p=RegExp("(\\d*)(\\D*)","g"),J=RegExp("(\\d*)(\\D*)","g");do{var n=p.exec(g)||["","",""],l=J.exec(k)||["","",""];if(0==n[0].length&&0==l[0].length)break;b=((0==n[1].length?0:parseInt(n[1],10))<(0==l[1].length?0:parseInt(l[1],10))?-1:(0==n[1].length?0:parseInt(n[1],
10))>(0==l[1].length?0:parseInt(l[1],10))?1:0)||((0==n[2].length)<(0==l[2].length)?-1:(0==n[2].length)>(0==l[2].length)?1:0)||(n[2]<l[2]?-1:n[2]>l[2]?1:0)}while(0==b)}b=za[a]=0<=b}return b}var Aa=m.document,Ba=Aa&&E?wa()||("CSS1Compat"==Aa.compatMode?parseInt(I,10):5):void 0;function Ca(a,b){this.width=a;this.height=b}Ca.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};function O(a){a=a.className;return s(a)&&a.match(/\S+/g)||[]}function P(a,b){for(var c=O(a),d=sa(arguments,1),e=c.length+d.length,f=c,g=0;g<d.length;g++)x(f,d[g])||f.push(d[g]);a.className=c.join(" ");return c.length==e}function Da(a,b){var c=O(a),d=sa(arguments,1),c=Ea(c,d);a.className=c.join(" ")}function Ea(a,b){return qa(a,function(a){return!x(b,a)})};var Fa=!E||E&&9<=Ba;!G&&!E||E&&E&&9<=Ba||G&&N("1.9.1");E&&N("9");function Ga(){return ea||(ea=new Q)}function Ha(a,b){la(b,function(c,b){"style"==b?a.style.cssText=c:"class"==b?a.className=c:"for"==b?a.htmlFor=c:b in Ia?a.setAttribute(Ia[b],c):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?a.setAttribute(b,c):a[b]=c})}var Ia={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Ja(a,b,c){function d(c){c&&b.appendChild(s(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];if(!r(f)||aa(f)&&0<f.nodeType)d(f);else{var g;a:{if(f&&"number"==typeof f.length){if(aa(f)){g="function"==typeof f.item||"string"==typeof f.item;break a}if("function"==q(f)){g="function"==typeof f.item;break a}}g=!1}pa(g?ra(f):f,d)}}}function Q(a){this.p=a||m.document||document}
Q.prototype.k=function(a,b,c){var d=this.p,e=arguments,f=e[0],g=e[1];if(!Fa&&g&&(g.name||g.type)){f=["<",f];g.name&&f.push(' name="',fa(g.name),'"');if(g.type){f.push(' type="',fa(g.type),'"');var k={};na(k,g);delete k.type;g=k}f.push(">");f=f.join("")}f=d.createElement(f);g&&(s(g)?f.className=g:"array"==q(g)?P.apply(null,[f].concat(g)):Ha(f,g));2<e.length&&Ja(d,f,e);return f};Q.prototype.createElement=function(a){return this.p.createElement(a)};Q.prototype.createTextNode=function(a){return this.p.createTextNode(String(a))};
Q.prototype.appendChild=function(a,b){a.appendChild(b)};function R(a,b){var c=9==a.nodeType?a:a.ownerDocument||a.document;return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}
function Ka(a){var b=a.offsetWidth,c=a.offsetHeight,d=H&&!b&&!c;if((void 0===b||d)&&a.getBoundingClientRect){var e;a:{try{e=a.getBoundingClientRect()}catch(f){e={left:0,top:0,right:0,bottom:0};break a}E&&a.ownerDocument.body&&(a=a.ownerDocument,e.left-=a.documentElement.clientLeft+a.body.clientLeft,e.top-=a.documentElement.clientTop+a.body.clientTop)}return new Ca(e.right-e.left,e.bottom-e.top)}return new Ca(b,c)}
function S(a,b){var c=a.currentStyle?a.currentStyle[b]:null,d;if(c)if(/^\d+px?$/.test(c))d=parseInt(c,10);else{d=a.style.left;var e=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=c;c=a.style.pixelLeft;a.style.left=d;a.runtimeStyle.left=e;d=c}else d=0;return d};function T(){0!=La&&(Ma[this[t]||(this[t]=++ba)]=this)}var La=0,Ma={};T.prototype.B=!1;T.prototype.o=function(){if(!this.B&&(this.B=!0,this.e(),0!=La)){var a=this[t]||(this[t]=++ba);delete Ma[a]}};T.prototype.e=function(){if(this.F)for(;this.F.length;)this.F.shift()()};var Na="closure_listenable_"+(1E6*Math.random()|0);function Oa(a){try{return!(!a||!a[Na])}catch(b){return!1}}var Pa=0;function Qa(a,b,c,d,e){this.g=a;this.q=null;this.src=b;this.type=c;this.capture=!!d;this.t=e;this.key=++Pa;this.m=this.s=!1}function Ra(a){a.m=!0;a.g=null;a.q=null;a.src=null;a.t=null};function U(a){this.src=a;this.b={};this.r=0}U.prototype.add=function(a,b,c,d,e){var f=this.b[a];f||(f=this.b[a]=[],this.r++);var g;a:{for(g=0;g<f.length;++g){var k=f[g];if(!k.m&&k.g==b&&k.capture==!!d&&k.t==e)break a}g=-1}-1<g?(a=f[g],c||(a.s=!1)):(a=new Qa(b,this.src,a,!!d,e),a.s=c,f.push(a));return a};U.prototype.G=function(a){var b=0,c;for(c in this.b)if(!a||c==a){for(var d=this.b[c],e=0;e<d.length;e++)++b,Ra(d[e]);delete this.b[c];this.r--}return b};var Sa=!E||E&&9<=Ba,Ta=E&&!N("9");!H||N("528");G&&N("1.9b")||E&&N("8")||va&&N("9.5")||H&&N("528");G&&!N("8")||E&&N("9");function Ua(a,b){this.type=a;this.currentTarget=this.target=b}h=Ua.prototype;h.e=function(){};h.o=function(){};h.w=!1;h.defaultPrevented=!1;h.preventDefault=function(){this.defaultPrevented=!0};function Va(a){Va[" "](a);return a}Va[" "]=function(){};function V(a,b){a&&this.u(a,b)}v(V,Ua);h=V.prototype;h.target=null;h.relatedTarget=null;h.offsetX=0;h.offsetY=0;h.clientX=0;h.clientY=0;h.screenX=0;h.screenY=0;h.button=0;h.keyCode=0;h.charCode=0;h.ctrlKey=!1;h.altKey=!1;h.shiftKey=!1;h.metaKey=!1;h.C=null;
h.u=function(a,b){var c=this.type=a.type;Ua.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(G){var e;a:{try{Va(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=H||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=H||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:
a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.C=a;a.defaultPrevented&&this.preventDefault();delete this.w};
h.preventDefault=function(){V.A.preventDefault.call(this);var a=this.C;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ta)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};h.e=function(){};var Wa="closure_lm_"+(1E6*Math.random()|0),W={},Xa=0;function Ya(a,b,c,d,e){if("array"==q(b)){for(var f=0;f<b.length;f++)Ya(a,b[f],c,d,e);return null}c=Za(c);if(Oa(a))a=X(a,b,c,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,g=$a(a);g||(a[Wa]=g=new U(a));c=g.add(b,c,!1,d,e);c.q||(d=ab(),c.q=d,d.src=a,d.g=c,a.addEventListener?a.addEventListener(b,d,f):a.attachEvent(b in W?W[b]:W[b]="on"+b,d),Xa++);a=c}return a}
function ab(){var a=bb,b=Sa?function(c){return a.call(b.src,b.g,c)}:function(c){c=a.call(b.src,b.g,c);if(!c)return c};return b}
function cb(a){if("number"==typeof a||!a||a.m)return!1;var b=a.src;if(Oa(b))return b.L(a);var c=a.type,d=a.q;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(c in W?W[c]:W[c]="on"+c,d);Xa--;if(c=$a(b)){var d=a.type,e;if(e=d in c.b){e=c.b[d];var f=oa(e,a),g;(g=0<=f)&&w.splice.call(e,f,1);e=g}e&&(Ra(a),0==c.b[d].length&&(delete c.b[d],c.r--));0==c.r&&(c.src=null,b[Wa]=null)}else Ra(a);return!0}
function db(a,b,c,d){var e=1;if(a=$a(a))if(b=a.b[b])for(b=ra(b),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.m&&(e&=!1!==eb(f,d))}return Boolean(e)}function eb(a,b){var c=a.g,d=a.t||a.src;a.s&&cb(a);return c.call(d,b)}
function bb(a,b){if(a.m)return!0;if(!Sa){var c;if(!(c=b))a:{c=["window","event"];for(var d=m,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new V(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,k=e.length-1;!c.w&&0<=k;k--)c.currentTarget=e[k],d&=db(e[k],f,!0,c);for(k=0;!c.w&&k<e.length;k++)c.currentTarget=
e[k],d&=db(e[k],f,!1,c)}return d}return eb(a,new V(b,this))}function $a(a){a=a[Wa];return a instanceof U?a:null}var fb="__closure_events_fn_"+(1E9*Math.random()>>>0);function Za(a){return"function"==q(a)?a:a[fb]||(a[fb]=function(b){return a.handleEvent(b)})};function Y(a){T.call(this);this.J=a;this.v={}}v(Y,T);var gb=[];function X(a,b,c,d,e){"array"!=q(c)&&(gb[0]=c,c=gb);for(var f=0;f<c.length;f++){var g=Ya(b,c[f],d||a.handleEvent,e||!1,a.J||a);if(!g)break;a.v[g.key]=g}return a}Y.prototype.G=function(){la(this.v,cb);this.v={}};Y.prototype.e=function(){Y.A.e.call(this);this.G()};Y.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Z(){T.call(this);this.c={};this.a=new Ga;this.l=new Y(this)}v(Z,T);h=Z.prototype;h.H="";h.h=null;h.f=null;h.j=null;h.n=null;h.i=null;h.d=null;h.u=function(){this.h=chrome.runtime.connect();this.h.onMessage.addListener(u(this.I,this));X(this.l,window,"unload",function(){this.h.disconnect();this.h=null;this.o()})};
h.I=function(a){var b=a.type;a=a[b];switch(b){case "layout":this.f=a;this.j=this.a.createElement("div");var c=this.a.p;c.body.appendChild(this.j);c.title=a.title;P(this.j,"notranslate");P(this.j,"vk-box");b=this.f.is102;a=[14,14,b?14:13,b?13:12,3];var b=b?"\u00c01234567890\u00bd\u00bb\b\tQWERTYUIOP\u00db\u00dd\r\u0014ASDFGHJKL\u00ba\u00de\u00dc\r\u0010\u00e2ZXCVBNM\u00bc\u00be\u00bf\u0010\u0111 \u0111":"\u00c01234567890\u00bd\u00bb\b\tQWERTYUIOP\u00db\u00dd\u00dc\u0014ASDFGHJKL\u00ba\u00de\r\u0010ZXCVBNM\u00bc\u00be\u00bf\u0010\u0111 \u0111",
d=0,e=this.a.k("DIV");e.dir=e.style.direction="ltr";for(var f=0;5>f;++f){var g=this.a.k("DIV");g.style.whiteSpace="nowrap";for(var k=0;k<a[f];++k){var p=b.charCodeAt(d++),J=hb(this,p),n=this.a.k("BUTTON",{id:"K"+p,type:"button","class":"vk-btn",style:"visibility:"+(J?"":"hidden")});J&&this.a.appendChild(n,J);this.c[p]=this.c[p]?[this.c[p],n]:n;this.a.appendChild(g,n)}this.a.appendChild(e,g)}this.n=e;this.a.appendChild(this.j,this.n);a=this.f.is102?[{13:2},{0:1.5,13:1.5},{0:1.75,13:1.25},{0:1.25,12:2.75},
{0:3,1:9,2:3}]:[{13:2},{0:1.5,13:1.5},{0:1.75,12:2.25},{0:2.25,11:2.75},{0:3,1:9,2:3}];d=29;e=4;if(b=this.n.children[0].children[0])(d=R(b,"width"))?d=Number(d.slice(0,-2)):("none"!=(R(b,"display")||(b.currentStyle?b.currentStyle.display:null)||b.style&&b.style.display)?d=Ka(b):(d=b.style,e=d.display,f=d.visibility,g=d.position,d.visibility="hidden",d.position="absolute",d.display="inline",k=Ka(b),d.display=e,d.position=g,d.visibility=f,d=k),d=d.width),E?(e=S(b,"marginLeft"),f=S(b,"marginRight"),
g=S(b,"marginTop"),b=S(b,"marginBottom"),b=new y(g,f,b,e)):(e=R(b,"marginLeft"),f=R(b,"marginRight"),g=R(b,"marginTop"),b=R(b,"marginBottom"),b=new y(parseFloat(g),parseFloat(f),parseFloat(b),parseFloat(e))),e=b.right+b.left,d+=e;for(b=0;b<a.length;b++)for(var l in a[b])l=Number(l),this.n.children[b].children[l].style.width=d*a[b][l]-e+"px";l=["mousedown","mouseover","mouseout"];a=u(this.D,this,null);X(this.l,c,"mouseup",a);for(var F in this.c)for(c=this.c[Number(F)],F=parseInt(F,10),r(c)||(c=[c]),
a=0;b=c[a];++a)X(this.l,b,"click",u(this.K,this,F)),X(this.l,b,l,u(this.D,this,b));break;case "click":ib(this,a);break;case "state":if(this.f){this.f.mappings[a]&&(this.H=a);F={20:"l",16:"s",273:"c"};for(c in this.c)if(l=this.c[Number(c)],c=parseInt(c,10),b=F[c])for(r(l)||(l=[l]),d=0;e=l[d];++d)e.className="vk-btn",0<=a.indexOf(b)&&P(e,"vk-sf-s");else if(b=hb(this,c)){d=l;for(e=void 0;e=d.firstChild;)d.removeChild(e);this.a.appendChild(l,b)}this.d&&!x(O(this.d),"vk-sf-s")&&($(this.d,["vk-btn","vk-sf-h"]),
P(this.d.firstChild,"vk-sf-h"))}}};function $(a,b){if(a)for(var c=0;c<b.length;c++)0==c?a.className=b[0]:P(a,b[c])}h.K=function(a){this.h&&this.h.postMessage({type:"click",click:a})};
h.D=function(a,b){var c=!1,d=!1;a&&(c=x(O(a),"vk-sf-a"),d=x(O(a),"vk-sf-s"));switch(b.type){case "mouseover":this.d=a;c||d||($(a,["vk-btn","vk-sf-h"]),P(a.firstChild,"vk-sf-h"));break;case "mouseout":this.d=null;c||d||(a.className="vk-btn",Da(a.firstChild,"vk-sf-h"));break;case "mousedown":d||($(a,["vk-btn","vk-sf-a"]),this.i=a);break;case "mouseup":this.i&&(this.i.className="vk-btn",Da(this.i.firstChild,"vk-sf-h"),this.i=null),this.d&&($(this.d,["vk-btn","vk-sf-h"]),P(this.d.firstChild,"vk-sf-h"))}};
function ib(a,b){var c=a.c[b];c&&($(c,["vk-btn","vk-sf-a"]),window.setTimeout(function(){c.className="vk-btn"},250))}var jb={8:"vk-sf-c8",16:"vk-sf-c16",20:"vk-sf-c20"};
function hb(a,b){if(9==b||13==b)return null;var c=a.a.k("SPAN");if(jb[b])return $(c,["vk-cap","vk-sf-b",jb[b]]),c;if(273==b)return $(c,["vk-cap","vk-sf-c273"]),c.innerHTML="Ctrl + Alt",c;var d=null,e=a.f.mappings[a.H][String.fromCharCode(b)];e&&e[1]&&("S"==e[0]?(d=a.a.createTextNode(e[1]),c.className="vk-cap"):"P"==e[0]&&(d=a.a.k("IMG",{src:"images/"+a.f.id+"_"+e[1]+".png"}),d.className="vk-cap-i"));d?a.a.appendChild(c,d):(a.a.appendChild(c,document.createTextNode(".")),c.style.visibility="hidden");
return c}Z.prototype.e=function(){var a=this.l;a&&"function"==typeof a.o&&a.o();delete this.c;Z.A.e.call(this)};(new Z).u();
